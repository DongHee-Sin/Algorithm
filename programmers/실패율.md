# 실패율
[문제 설명](https://programmers.co.kr/learn/courses/30/lessons/42889)

# 풀이
```swift
func solution(_ N:Int, _ stages:[Int]) -> [Int] {

    var failureRateDictionary: [Int: Double] = [Int: Double]()

    for round in (1...N) {
        let passedRound: [Int] = stages.filter({$0 >= round})
        let failRound: [Int] = passedRound.filter({$0 == round})
        failureRateDictionary[round] = passedRound.count != 0 ? Double(failRound.count) / Double(passedRound.count) : 0
    }

    return failureRateDictionary.sorted(by: { (first, second) -> Bool in
        if first.value == second.value {
            return first.key < second.key
        }else {
            return first.value > second.value
        }
    }).map({$0.key})
}
```


수정1
```swift
func solution(_ N:Int, _ stages:[Int]) -> [Int] {

    var failureRateDictionary: [Int: Double] = [Int: Double]()

    let numberOfUser: Int = stages.count
    var numberOfFailedUser: Int = 0

    for round in (1...N) {
        let numberOfReached: Int = numberOfUser - numberOfFailedUser
        let failRoundUser: Int = stages.filter({$0 == round}).count
        failureRateDictionary[round] = numberOfReached != 0 ? Double(failRoundUser) / Double(numberOfReached) : 0
        numberOfFailedUser += failRoundUser
    }

    return failureRateDictionary.sorted(by: { (first, second) -> Bool in
        if first.value == second.value {
            return first.key < second.key
        }else {
            return first.value > second.value
        }
    }).map({$0.key})
}
```


수정2
```swift
func solution(_ N:Int, _ stages:[Int]) -> [Int] {

    var failureRateDictionary: [Int: Double] = [Int: Double]()

    let numberOfUser: Int = stages.count
    var numberOfFailedUser: Int = 0

    for round in (1...N) {
        let numberOfReached: Int = numberOfUser - numberOfFailedUser

        if numberOfReached == 0 {
            failureRateDictionary[round] = 0
        }else {
            let failRoundUser: Int = stages.filter({$0 == round}).count
            failureRateDictionary[round] = Double(failRoundUser) / Double(numberOfReached)
            numberOfFailedUser += failRoundUser
        }
    }

    return failureRateDictionary.sorted(by: { (first, second) -> Bool in
        if first.value == second.value {
            return first.key < second.key
        }else {
            return first.value > second.value
        }
    }).map({$0.key})
}
```


시간초과..
뜯어고쳐야 되는거 같은데.. 머리 과부화와서 다음에 다시 도전..
